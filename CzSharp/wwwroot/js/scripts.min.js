Bridge.assembly("WebScripts",function(){"use strict";Bridge.define("WebScripts.aceEditor",{statics:{fields:{aceEditorSelector:null},ctors:{init:function(){this.aceEditorSelector="div[data-editor='ace']"}}},ctors:{ctor:function(){var editors,i,aceEditor,jEditor;this.$initialize();try{for(editors=jQuery(WebScripts.aceEditor.aceEditorSelector),i=0;i<editors.length;i=i+1|0)aceEditor={v:ace.edit(editors.get(i))},aceEditor.v!=null&&(jEditor=jQuery(editors[i]),aceEditor.v.setTheme("ace/theme/chrome"),aceEditor.v.session.setMode("ace/mode/csharp"),aceEditor.v.setReadOnly(Bridge.referenceEquals(jEditor.attr("data-readonly"),"true")),jEditor.closest("form").submit(function($me,aceEditor){return Bridge.fn.bind($me,function(evt){return this.formSubmitted(aceEditor.v,evt)})}(this,aceEditor)))}catch(ex){ex=System.Exception.create(ex);System.Console.WriteLine(ex.Message)}}},methods:{formSubmitted:function(editor,evt){var form=jQuery(evt.target),editorDiv=form.find(WebScripts.aceEditor.aceEditorSelector),textarea=form.find(System.String.format("[name='{0}']",[editorDiv.attr("data-for")]));return textarea.val(editor.session.getValue()),null}}});Bridge.define("WebScripts.app",{main:function(){var calendars=new WebScripts.FullCalendar.calendars,forms=new WebScripts.forms,editors=new WebScripts.TinyMce.editors,tooltips=new WebScripts.tooltips,confirms=new WebScripts.confirms,ace=new WebScripts.aceEditor,tags=new WebScripts.Tags.tagsInput,datePickers=new WebScripts.DateTimePicker.datePickers}});Bridge.define("WebScripts.confirms",{ctors:{ctor:function(){this.$initialize();jQuery("[data-confirm]").click(Bridge.fn.cacheBind(this,this.objectWithConfirmClicked))}},methods:{objectWithConfirmClicked:function(evt){return System.Console.WriteLine("Confirm clicked"),window.confirm(jQuery(evt.target).attr("data-confirm"))||evt.preventDefault(),null}}});Bridge.define("WebScripts.DateTimePicker.datePickers",{ctors:{ctor:function(){this.$initialize();var pickers=jQuery("[data-editor='bootstrap-datepicker']");System.Console.WriteLine(pickers);pickers.length>0&&pickers.datetimepicker({allowInputToggle:!0})}}});Bridge.define("WebScripts.forms",{ctors:{ctor:function(){this.$initialize();this.initValidators();this.initCurrentErrors()}},methods:{initValidators:function(){var validator=jQuery(jQuery("form")[0]).data("validator");validator!=null&&(validator.settings.errorClass="is-invalid")},initCurrentErrors:function(){jQuery(".input-validation-error").addClass("is-invalid").removeClass("input-validation-error")}}});Bridge.define("WebScripts.FullCalendar.calendars",{ctors:{ctor:function(){this.$initialize();this.initSmallCalendar();this.initCalendar()}},methods:{initSmallCalendar:function(){var calendar=jQuery("#small-calendar");calendar.length>0&&calendar.fullCalendar({header:!1,themeSystem:"bootstrap4",aspectRatio:1.15,events:"/events/range/",eventClick:Bridge.fn.cacheBind(this,this.eventClicked)})},initCalendar:function(){var calendar=jQuery("#calendar");calendar.length>0&&calendar.fullCalendar({header:{left:"title",center:"",right:"today prev,next"},locale:"cs",themeSystem:"bootstrap4",aspectRatio:1.15,events:"/events/range/",eventClick:Bridge.fn.cacheBind(this,this.eventClicked)})},eventClicked:function(fcEvent){window.location.href=System.String.format("/events/detail/{0}",[Bridge.box(fcEvent.id,System.Int32)])}}});Bridge.define("WebScripts.FullCalendar.fullCalendarEvent",{fields:{id:0,title:null,start:null,end:null,allDay:!1},ctors:{init:function(){this.start=System.DateTime.getDefaultValue();this.end=System.DateTime.getDefaultValue()}}});Bridge.define("WebScripts.Tags.tagsInput",{ctors:{ctor:function(){var $t,$t1,editors;this.$initialize();editors=jQuery("[data-editor='tagsinput']");editors.length>0&&editors.tagsinput(($t=new WebScripts.Tags.tagsInputOptions,$t.typeahead=($t1=new WebScripts.Tags.typeAheadOptions,$t1.source=System.Array.init(["First","Second","Third"],System.String),$t1),$t))}}});Bridge.define("WebScripts.Tags.tagsInputOptions",{fields:{typeahead:null}});Bridge.define("WebScripts.Tags.typeAheadOptions",{fields:{source:null}});Bridge.define("WebScripts.TinyMce.editors",{ctors:{ctor:function(){this.$initialize();this.initEditor()}},methods:{initEditor:function(){var $t,editors,i,editor,height;try{for(editors=jQuery("textarea[data-editor='tinymce']"),i=0;i<editors.length;i=i+1|0)editor=editors.get(i),height=jQuery(editor).attr("data-height"),tinymce.init(($t=new WebScripts.TinyMce.tinyMceSettings,$t.selector=System.String.format("#{0}",[editor.id]),$t.menubar=!1,$t.branding=!1,$t.height=System.Convert.toInt32(height),$t.plugins=System.Array.init(["lists","link","codesample","image","imagetools","wordcount"],System.String),$t.toolbar="undo redo | bold italic underline | alignleft aligncenter alignright | bullist numlist | outdent indent | link image  | codesample",$t))}catch($e1){$e1=System.Exception.create($e1)}}}});Bridge.define("WebScripts.TinyMce.tinyMceSettings",{fields:{branding:!1}});Bridge.define("WebScripts.tooltips",{ctors:{ctor:function(){this.$initialize();jQuery("[data-toggle='tooltip']").tooltip()}}})});